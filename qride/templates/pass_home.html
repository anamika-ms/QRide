{% load static %}
<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <meta name="description" content="">
        <meta name="author" content="">

        <title>Passenger</title>

        <!-- CSS FILES -->        
        <link rel="preconnect" href="https://fonts.googleapis.com">
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

        <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500;600;700&family=Open+Sans&display=swap" rel="stylesheet">
                        
        <link href="{% static 'css/bootstrap.min.css' %}" rel="stylesheet">

        <link href="{% static 'css/bootstrap-icons.css' %}" rel="stylesheet">

        <link href="{% static 'css/templatemo-topic-listing.css' %}" rel="stylesheet">
<!--

TemplateMo 590 topic listing

https://templatemo.com/tm-590-topic-listing

-->
    </head>
    
    <body id="top">

        <main>

            <nav class="navbar navbar-expand-lg">
                <div class="container">
                    <a class="navbar-brand" href="/index">
                        <i class="bi-back"></i>
                        <span>QRide</span>
                    </a>

                    <div class="d-lg-none ms-auto me-4">
                        <a href="#top" class="navbar-icon bi-person smoothscroll"></a>
                    </div>
    
                    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>
    
                    <div class="collapse navbar-collapse" id="navbarNav">
                        <ul class="navbar-nav ms-lg-5 me-lg-auto">
                            <li class="nav-item">
                                <a class="nav-link click-scroll" href="/index">Home</a>
                            </li>

                            <li class="nav-item">
                                <a class="nav-link click-scroll" href="/travel_history">Travel History</a>
                            </li>
    
                            <li class="nav-item">
                                <a class="nav-link click-scroll" href="#feedback">Feedback</a>
                            </li>

                            <li class="nav-item">
                                <a class="nav-link click-scroll" href="/index">Logout</a>
                            </li>
    
                            <!-- <li class="nav-item">
                                <a class="nav-link click-scroll" href="/index">Contact</a>
                            </li> -->

                            <li class="nav-item dropdown">
                                <!-- <a class="nav-link dropdown-toggle" href="#section_5" id="navbarLightDropdownMenuLink" role="button" data-bs-toggle="dropdown" aria-expanded="false">Pages</a> -->

                                <ul class="dropdown-menu dropdown-menu-light" aria-labelledby="navbarLightDropdownMenuLink">
                                    <!-- <li><a class="dropdown-item" href="/listing">Topics Listing</a></li> -->

                                    <!-- <li><a class="dropdown-item" href="/contact">Contact Form</a></li> -->
                                </ul>
                            </li>
                        </ul>

                        <div class="d-none d-lg-block">
                            <a href="/index" class="navbar-icon bi-person smoothscroll"></a>
                        </div>
                    </div>
                </div>
            </nav>
            

            <header class="site-header d-flex flex-column justify-content-center align-items-center">
                <div class="container">
                    <div class="row justify-content-center align-items-center">

                        <div class="col-lg-5 col-12 mb-5">
                            <nav aria-label="breadcrumb">
                                <ol class="breadcrumb">
                                    <!-- <li class="breadcrumb-item"><a href="/index">Homepage</a></li> -->

                                    <!-- <li class="breadcrumb-item active" aria-current="page">Web Design</li> -->
                                </ol>
                            </nav>

                            <h2 class="text-white">Track your Trips, Routes, and Tickets with ease...</h2>

                            <div class="d-flex align-items-center mt-5">
                                <!-- <a href="#topics-detail" class="btn custom-btn custom-border-btn smoothscroll me-4">Read More</a>

                                <a href="#top" class="custom-icon bi-bookmark smoothscroll"></a> -->
                              <!-- Scan QR Button -->
<button onclick="startScanner()" class="btn custom-btn custom-border-btn smoothscroll me-4">
    Scan QR Code
</button>

<!-- QR Scanner Container -->
<div id="qr-reader" style="width:300px; margin-top:20px; display:none;"></div>

<!-- Include HTML5 QR Code Library -->
<script src="https://unpkg.com/html5-qrcode"></script>

<script>
    let html5QrCode;
    let isScannerRunning = false;

    function startScanner() {
        const qrReaderElement = document.getElementById("qr-reader");

        // Show the QR container
        qrReaderElement.style.display = "block";

        if (!isScannerRunning) {
            html5QrCode = new Html5Qrcode("qr-reader");

            html5QrCode.start(
                { facingMode: "environment" }, // Back camera for mobile
                {
                    fps: 10, // Frames per second
                    qrbox: { width: 250, height: 250 } // Scanning box size
                },
                (decodedText) => {
                    console.log("QR Code detected:", decodedText);

                    // Stop scanning after successful scan
                    html5QrCode.stop().then(() => {
                        isScannerRunning = false;
                        qrReaderElement.style.display = "none";

                        // Redirect to select destination page with bus_id
                        window.location.href = "/select-destination/?bus_id=" + encodeURIComponent(decodedText);
                    }).catch((err) => {
                        console.error("Error stopping scanner:", err);
                    });
                },
                (errorMessage) => {
                    // Ignore scanning errors
                }
            ).then(() => {
                isScannerRunning = true;
            }).catch((err) => {
                console.error("Unable to start scanning:", err);
                alert("Unable to access the camera. Please allow camera permissions.");
            });
        }
    }
</script>

                            </div>
                        </div>

                        <div class="col-lg-5 col-12">
                            <div class="topics-detail-block bg-white shadow-lg">
                                <img src="{% static 'images\bus1.png' %}" class="topics-detail-block-image img-fluid">
                            </div>
                        </div>

                    </div>
                </div>
            </header>


            <section class="topics-detail-section section-padding" id="topics-detail">
                <div class="container">
                    <div class="row">

                        <div class="col-lg-8 col-12 m-auto">
                            <h3 class="mb-4"><center>Welcome to QRide</h3></center>

                            <p>Traveling made simple. With QRide, you can book tickets, scan QR codes, and manage your journeys all from your phone. No more waiting in lines, no more paper tickets, just smooth and smart travel.</p>

                            <p>Your comfort and convenience matter to us. Whether you are heading to college, commuting to work, or traveling across the city, QRide ensures that your ticketing process is quick, secure, and reliable.</p>

                            <blockquote>
                                Scan. Pay. Travel.  <br>
Your journey is now smarter, faster and cashless

                            </blockquote>

                            <div class="row my-4">
                                <div class="col-lg-6 col-md-6 col-12">
                                    <img src="{% static 'images/bus3.png' %}" class="topics-detail-block-image img-fluid">
                                </div>

                                <div class="col-lg-6 col-md-6 col-12 mt-4 mt-lg-0 mt-md-0">
                                    <img src="{% static 'images/bus8.jpg' %}" class="topics-detail-block-image img-fluid">
                                </div>
                            </div>

                            <p>Experience hassle-free travel with our QR-based bus fare automation portal. Simply book your ticket, scan the QR and enjoy a smooth, cashless journey without waiting in queues.</p>
                        </div>

                    </div>
                </div>
            </section>


            <section class="section-padding section-bg" id="feedback">
                <div class="container">
                    <div class="row justify-content-center">

                        <div class="col-lg-5 col-12">
                            <img src="{% static 'images/bus7.png' %}" class="newsletter-image img-fluid" alt="">
                        </div>

                        <div class="col-lg-5 col-12 subscribe-form-wrap d-flex justify-content-center align-items-center">
                            <form class="custom-form subscribe-form" action="#" method="post" role="form">
                                <h4 class="mb-4 pb-2"><center>FEEDBACK</center></h4>

                                <input type="text" name="subscribe-email" id="subscribe-email"  class="form-control" placeholder="How was your experience with QRide" required="">

                                <div class="col-lg-12 col-12">
                                    <button type="submit" class="form-control">Submit</button>
                                </div>
                            </form>
                        </div>

                    </div>
                </div>
            </section>
        </main>
		
        <footer class="site-footer section-padding">
            <div class="container">
                <div class="row">

                    <div class="col-lg-3 col-12 mb-4 pb-2">
                        <a class="navbar-brand mb-2" href="/index">
                            <i class="bi-back"></i>
                            <span>QRide</span>
                        </a>
                    </div>

                    <div class="col-lg-3 col-md-4 col-6">
                        <h6 class="site-footer-title mb-3">Resources</h6>

                        <ul class="site-footer-links">
                            <li class="site-footer-link-item">
                                <a href="#section_1" class="site-footer-link">Home</a>
                            </li>

                             <li class="site-footer-link-item">
                                <a href="#section_2" class="site-footer-link">Browse Topics</a>
                            </li>

                            <li class="site-footer-link-item">
                                <a href="#section_3" class="site-footer-link">How it works</a>
                            </li>
                            
                        </ul>
                    </div>

                    <div class="col-lg-3 col-md-4 col-6 mb-4 mb-lg-0">
                        <h6 class="site-footer-title mb-3">Information</h6>

                        <p class="text-white d-flex mb-1">
                            <a href="tel: 305-240-9671" class="site-footer-link">
                                +91 7510903533
                            </a>
                        </p>

                        <p class="text-white d-flex">
                            <a href="mailto:anamikams2003@gmail.com" class="site-footer-link">
                                anamikams2003@gmail.com
                            </a>
                        </p>
                    </div>

                    <div class="col-lg-3 col-md-4 col-12 mt-4 mt-lg-0 ms-auto">
                        <div class="dropdown">
                            <button class="btn btn-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                            English</button>

                            <ul class="dropdown-menu">
                                <li><button class="dropdown-item" type="button">Malayalam</button></li>

                                <!-- <li><button class="dropdown-item" type="button">Myanmar</button></li> -->

                                <!-- <li><button class="dropdown-item" type="button">Arabic</button></li> -->
                            </ul>
                        </div>
                        
                        <p class="copyright-text mt-lg-5 mt-4">Copyright © 2025 QRide.<br> All rights reserved.
                        <!-- <br><br>Design: <a rel="nofollow" href="https://templatemo.com" target="_blank">TemplateMo</a></p> -->
                        
                    </div>

                </div>
            </div>
        </footer>

        <!-- JAVASCRIPT FILES -->
        <script src="{% static 'js/jquery.min.js' %}"></script>
        <script src="{% static 'js/bootstrap.bundle.min.js' %}"></script>
        <script src="{% static 'js/jquery.sticky.js' %}"></script>
        <script src="{% static 'js/custom.js' %}"></script>

    </body>
</html>